<!DOCTYPE html>
<html lang="en">

<head>
  <title>At The Mile Logistics</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&display=swap">
  <link rel="stylesheet" href="css/tailwind/tailwind.min.css">
  <link rel="stylesheet" href="css/recuritmentcenter.css">
  <script src="js/main.js"></script>
  <script src="js/functions.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
    integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    rolelist = {};

    function toastFactory(type, title, text, time, showConfirmButton) {
      const Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: showConfirmButton || false,
        timer: time || '3000',
        timerProgressBar: true,
        didOpen: (toast) => {
          toast.addEventListener('mouseenter', Swal.stopTimer);
          toast.addEventListener('mouseleave', Swal.resumeTimer);
        },
      });

      Toast.fire({
        icon: type,
        title: '<strong>' + title + '</strong>',
        html: text,
      });
    }

    function ShowTab(tabname, btnname) {
      $(".tabs").hide();
      $(tabname).show();
      $(".tabbtns").removeClass("bg-indigo-500");
      $(btnname).addClass("bg-indigo-500");
      if (tabname == "#SubmitApp") {
        $("#driverappsel").attr("selected", "selected");
      }
      if (tabname == "#MyApp") {
        loadMyApp();
      }
      if (tabname == "#AllApp") {
        loadAllApp();
      }
      if (tabname == "#AllUsers") {
        loadUsers();
      }
      if (tabname == "#AllMembers") {
        loadMembers();
      }
    }

    function NewAnn() {
      anntype = parseInt($("#annselect").find(":selected").val());
      title = $("#anntitle").val();
      content = $("#anncontent").val();
      annid = $("#annid").val();
      pvt = $("#annpvt-1").prop("checked");
      chnid = $("#annchan").val().replaceAll(" ", "");

      if (chnid != "" && !isNumber(chnid)) {
        toastFactory("warning", "Error", "Channel ID must be an integar if specified!", 5000, false);
        return;
      }

      $("#newAnnBtn").html("Working...");
      $("#newAnnBtn").prop("disabled", true);

      op = "create";
      if (isNumber(annid)) {
        if (title != "" || content != "") {
          op = "update";
        } else {
          op = "delete";
        }
      }

      if (op == "update") {
        annid = parseInt(annid);
        $.ajax({
          url: "https://drivershub.charlws.com/atm/announcement",
          type: "PATCH",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + token
          },
          data: {
            "aid": annid,
            "title": title,
            "content": content,
            "atype": anntype,
            "pvt": pvt,
            "channelid": chnid
          },
          success: function (data) {
            // Un-disable the submit button
            $("#newAnnBtn").prop("disabled", false);
            $("#newAnnBtn").html("Submit");
            if (data.error == false) {
              // Trigger req swal.fire
              Swal.fire({
                title: 'Success',
                text: 'Announcement updated! Refresh page to view it!',
                icon: 'success',
                confirmButtonText: 'OK'
              })
            } else {
              // Trigger req swal.fire
              Swal.fire({
                title: 'An Error Occured While Updating Announcement',
                text: data.descriptor ? data.descriptor :
                  'An unknown error occured - please contact the devlopment team',
                icon: 'error',
                confirmButtonText: 'OK'
              })
              console.warn(`Announcement update failed: ${data.descriptor ? data.descriptor : 'Unknown error'}`);
              console.log(data);
            }
          },
          error: function (data) {
            // Un-disable the submit button
            $("#newAnnBtn").prop("disabled", false);
            $("#newAnnBtn").html("Submit");

            // Trigger req swal.fire
            Swal.fire({
              title: 'An Error Occured While Updating Announcement',
              text: data.descriptor ? data.descriptor :
                'An unknown error occured - please contact the devlopment team',
              icon: 'error',
              confirmButtonText: 'OK'
            })

            console.warn(`Announcement update failed: ${data.descriptor ? data.descriptor : 'Unknown error'}`);
            console.log(data);
          }
        });
      } else if (op == "create") {
        $.ajax({
          url: "https://drivershub.charlws.com/atm/announcement",
          type: "POST",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + token
          },
          data: {
            "title": title,
            "content": content,
            "atype": anntype,
            "pvt": pvt,
            "channelid": chnid
          },
          success: function (data) {
            // Un-disable the submit button
            $("#newAnnBtn").prop("disabled", false);
            $("#newAnnBtn").html("Submit");
            if (data.error == false) {
              // Trigger req swal.fire
              Swal.fire({
                title: 'Success',
                text: 'Announcement created! Refresh page to view it!',
                icon: 'success',
                confirmButtonText: 'OK'
              })
            } else {
              // Trigger req swal.fire
              Swal.fire({
                title: 'An Error Occured While Creating The Announcement',
                text: data.descriptor ? data.descriptor :
                  'An unknown error occured - please contact the devlopment team',
                icon: 'error',
                confirmButtonText: 'OK'
              })

              console.warn(
                `Announcement creation failed: ${data.descriptor ? data.descriptor : 'Unknown error'}`);
              console.log(data);
            }
          },
          error: function (data) {
            // Un-disable the submit button
            $("#newAnnBtn").prop("disabled", false);
            $("#newAnnBtn").html("Submit");

            // Trigger req swal.fire
            Swal.fire({
              title: 'An Error Occured While Creating The Announcement',
              text: data.descriptor ? data.descriptor :
                'An unknown error occured - please contact the devlopment team',
              icon: 'error',
              confirmButtonText: 'OK'
            })

            console.warn(`Announcement creation failed: ${data.descriptor ? data.descriptor : 'Unknown error'}`);
            console.log(data);
          }
        });
      } else if (op == "delete") {
        annid = parseInt(annid);
        $.ajax({
          url: "https://drivershub.charlws.com/atm/announcement?aid=" + annid,
          type: "DELETE",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + token
          },
          success: function (data) {
            // Un-disable the submit button
            $("#newAnnBtn").prop("disabled", false);
            $("#newAnnBtn").html("Submit");
            if (data.error == false) {
              // Trigger req swal.fire
              Swal.fire({
                title: 'Success',
                text: 'Announcement deleted!',
                icon: 'success',
                confirmButtonText: 'OK'
              })
            } else {
              // Trigger req swal.fire
              Swal.fire({
                title: 'An Error Occured While Deleting Announcement',
                text: data.descriptor,
                icon: 'error',
                confirmButtonText: 'OK'
              })
            }
          },
          error: function (data) {
            // Un-disable the submit button
            $("#newAnnBtn").prop("disabled", false);
            $("#newAnnBtn").html("Submit");

            // Trigger req swal.fire
            Swal.fire({
              title: 'An Error Occured While Deleting Announcement',
              text: data.descriptor,
              icon: 'error',
              confirmButtonText: 'OK'
            })

            console.warn(`Announcement deletion failed: ${data.descriptor ? data.descriptor : 'Unknown error'}`);
            console.log(data);
          }
        });
      }
    }

    function SubmitApp() {
      apptype = $("#appselect").find(":selected").text();
      data = "";
      if (apptype == "Driver") {
        apptype = 1;

        q1 = $("#da-q1").val();
        q2 = $("#da-q2").val();
        q3 = $("#da-q3").val();
        q4 = $("#da-q4").val();


        // Check if any of the fields are empty
        if (q1 == "" || q2 == "" || q3 == "" || q4 == "") {
          toastFactory("warning", "Error", "You must fill in all the fields!", 5000, false);
          return;
        }


        // Checks for is in vtc and terms
        if ($("#in-another-vtc").prop("checked")) {
          toastFactory("warning", "Error", "You can only be in one VTC at a time!", 5000, false);
          return;
        }

        if (!$("#da-agree").prop("checked")) {
          toastFactory("warning", "Error", "You must agree to the terms and conditions!", 5000, false);
          return;
        }

        // Check if q1 is a vaild date
        const birthDate = new Date(q1);

        if (isNaN(birthDate.getTime())) {
          toastFactory("warning", "Error", "You must enter a valid date!", 5000, false);
          return;
        }

        // Check that q1 follows the MM/DD/YYYY format
        if (q1.length != 10) {
          toastFactory("warning", "Error", "You must enter a date in the MM/DD/YYYY format!", 5000, false);
          return;
        }

        // Check if they are at least 13 years old
        const today = new Date();

        if (today.getFullYear() - birthDate.getFullYear() < 13) {
          toastFactory("warning", "Error", "You must be at least 13 years old to apply!", 5000, false);
          return;
        }

        data = {
          "Birthday": q1,
          "How did you find us?": q2,
          "What are your interests?": q3,
          "Why do you want to be a part our VTC?": q4
        };
      } else if (apptype == "Staff") {
        apptype = 2;

        q1 = $("#sa-q1").val();
        q2 = $("#sa-q2").val();
        q3 = $("#sa-q3").val();
        q4 = $("#sa-q4").val();
        q5 = $("#sa-q5").val();
        pos = $("#sa-select").find(":selected").text();

        // Check if any of the fields are empty
        if (q1 == "" || q2 == "" || q3 == "" || q4 == "" || q5 == "") {
          toastFactory("warning", "Error", "You must fill in all the fields!", 5000, false);
          return;
        }

        if (!$("#sa-agree").prop("checked")) {
          toastFactory("warning", "Error", "You must agree to the terms and conditions!", 5000, false);
          return;
        }


        data = {
          "Applying For": pos,
          "Birthday": q1,
          "Country & Time Zone": q2,
          "Summary": q3,
          "Why are you interested in joining the position you are applying for? What do you want to achieve?": q4,
          "Do you have a lot of time to dedicate to this position? ": q5
        }
      } else if (apptype == "LOA") {
        apptype = 3;
        q1 = $("#la-q1").val();
        q2 = $("#la-q2").val();
        q3 = $("#la-q3").val();

        // Check if any of the fields are empty
        if (q1 == "" || q2 == "" || q3 == "") {
          toastFactory("warning", "Error", "You must fill in all the fields!", 5000, false);
          return;
        }

        data = {
          "Start Date": q1,
          "End Date": q2,
          "Reason": q3
        }
      }
      data = JSON.stringify(data);

      // After we've reached here, change the submit button text to "Submitting..."
      $("#submitAppBttn").html("Submitting...");

      // Disable the submit button
      $("#submitAppBttn").prop("disabled", true);

      $.ajax({
        url: "https://drivershub.charlws.com/atm/application",
        type: "POST",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + token
        },
        data: {
          "apptype": apptype,
          "data": data
        },
        success: function (data) {
          if (data.error == false) {
            // Un-disable the submit button
            $("#submitAppBttn").prop("disabled", false);
            $("#submitAppBttn").html("Submit");

            // Trigger req swal.fire
            Swal.fire({
              title: 'Success',
              text: 'Your application has been submitted! Best of luck!',
              icon: 'success',
              confirmButtonText: 'OK'
            })
          } else {
            // Un-disable the submit button
            $("#submitAppBttn").prop("disabled", false);
            $("#submitAppBttn").html("Submit");

            // Trigger req swal.fire
            Swal.fire({
              title: 'An Error Occured While Submitting Your Application',
              text: `Please let us know on discord and open a ticket and show this error: ${data.descriptor}`,
              icon: 'error',
              confirmButtonText: 'OK'
            })
          }
        },
        error: function (data) {
          // Un-disable the submit button
          $("#submitAppBttn").prop("disabled", false);
          $("#submitAppBttn").html("Submit");

          // Trigger req swal.fire
          Swal.fire({
            title: 'An Error Occured While Submitting Your Application',
            text: `Please let us know on discord and open a ticket and show this error: ERROR_UNHANDLED`,
            icon: 'error',
            confirmButtonText: 'OK'
          })

          console.warn('Failed to submit application (Unhandled Error): ', data.descriptor ? data.descriptor :
            'No Error Descriptor - check cors?');
        }
      });
    }

    function validate() {
      token = localStorage.getItem("token");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/user/validate",
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + token
        },
        success: function (data) {
          if (data.error == false) {
            if (data.response.extra != "") {
              window.location.href = "/login";
            }
          } else {
            localStorage.removeItem("token");
            window.location.href = "/login";
          }
        },
        error: function (data) {
          localStorage.removeItem("token");
          window.location.href = "/login";
        }
      });
      roles = JSON.parse(localStorage.getItem("roles"));
      name = localStorage.getItem("name");
      avatar = localStorage.getItem("avatar");
      discordid = localStorage.getItem("discordid");
      highestrole = localStorage.getItem("highestrole");
      $("#name").html(name);
      $("#role").html(highestrole);
      if (avatar != null) {
        if (avatar.startsWith("a_"))
          $("#avatar").attr("src", "https://cdn.discordapp.com/avatars/" + discordid + "/" + avatar + ".gif");
        else
          $("#avatar").attr("src", "https://cdn.discordapp.com/avatars/" + discordid + "/" + avatar + ".png");
      }
      $("#newann").hide();
      if (roles != null && roles != undefined) {
        highestrole = 99999;
        for (i = 0; i < roles.length; i++) {
          if (roles[i] < highestrole) {
            highestrole = roles[i];
            if (roles[i] == 40 || roles[i] == 41) {
              $("#newann").show(); // event staff
              if (roles[i] == 40)
                $("#annrole").html("Event Manager");
              else
                $("#annrole").html("Event Staff");
              setInterval(function () {
                title = $("#anntitle").val();
                content = $("#anncontent").val();
                annid = $("#annid").val();
                if (isNumber(annid)) {
                  if (title != "" || content != "") {
                    $("#newAnnBtn").html("Update Announcement");
                    $("#newAnnBtn").css("background-color", "green");
                  } else {
                    $("#newAnnBtn").html("Delete Announcement");
                    $("#newAnnBtn").css("background-color", "red");
                  }
                } else {
                  $("#newAnnBtn").html("Create Announcement");
                  $("#newAnnBtn").css("background-color", "blue");
                }
              });
            }
          }
        }
        if (highestrole < 100) {
          $("#stafftabs").show();
          if (highestrole >= 30) {
            $("#AllAppBtn").hide();
            $("#AllMemberStaff").hide();
          } else {
            $("#AllMemberStaff").show();
            $("#AllAppBtn").show();
          }
        }
        if (highestrole <= 10) {
          $("#newann").show();
          $("#annrole").html("Leadership");
          setInterval(function () {
            title = $("#anntitle").val();
            content = $("#anncontent").val();
            annid = $("#annid").val();
            if (isNumber(annid)) {
              if (title != "" || content != "") {
                $("#newAnnBtn").html("Update Announcement");
                $("#newAnnBtn").css("background-color", "green");
              } else {
                $("#newAnnBtn").html("Delete Announcement");
                $("#newAnnBtn").css("background-color", "red");
              }
            } else {
              $("#newAnnBtn").html("Create Announcement");
              $("#newAnnBtn").css("background-color", "blue");
            }
          });
        }
      }
      $.ajax({
        url: "https://drivershub.charlws.com/atm/user/info",
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + token
        },
        success: function (data) {
          if (data.error == false) {
            localStorage.setItem("roles", JSON.stringify(data.response.roles));
            localStorage.setItem("name", data.response.name);
            localStorage.setItem("avatar", data.response.avatar);
            localStorage.setItem("discordid", data.response.discordid);
            roles = data.response.roles;
            highestrole = 99999;
            for (i = 0; i < roles.length; i++) {
              if (roles[i] < highestrole) {
                highestrole = roles[i];
              }
            }
            name = data.response.name;
            avatar = data.response.avatar;
            discordid = data.response.discordid;
            $("#name").html(name);
            if (avatar.startsWith("a_"))
              $("#avatar").attr("src", "https://cdn.discordapp.com/avatars/" + discordid + "/" + avatar + ".gif");
            else
              $("#avatar").attr("src", "https://cdn.discordapp.com/avatars/" + discordid + "/" + avatar + ".png");
            $.ajax({
              url: "https://drivershub.charlws.com/atm/member/roles",
              type: "GET",
              dataType: "json",
              success: function (data) {
                rolelist = data.response;
                hrole = data.response[highestrole];
                localStorage.setItem("highestrole", hrole);
                $("#role").html(hrole);
                roleids = Object.keys(rolelist);
                for (var i = 0; i < roleids.length; i++) {
                  if (roleids[i] <= highestrole)
                    $("#rolelist").append(`<li><input disabled type="checkbox" id="role` + roleids[i] +
                      `" name="assignrole" value="role` + roleids[i] + `">
  <label for="role` + roleids[i] + `">` + rolelist[roleids[i]] + `</label></li>`);
                  else
                    $("#rolelist").append(`<li><input type="checkbox" id="role` + roleids[i] +
                      `" name="assignrole" value="role` + roleids[i] + `">
  <label for="role` + roleids[i] + `">` + rolelist[roleids[i]] + `</label></li>`);
                }
              }
            });
          } else {
            localStorage.removeItem("token");
            window.location.href = "/login";
          }
        },
        error: function (data) {
          localStorage.removeItem("token");
          window.location.href = "/login";
        }
      });
    }

    function loadMembers() {
      page = $("#mpages").val();
      if (page == "") page = 1;
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/list?page=" + page,
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
          $("#membersTable").empty();
          const users = data.response.list;

          if (users.length == 0) {
            $("#membersTableHead").hide();
            $("#membersTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">Nothing found</td>
            </tr>`);
            return;
          }
          for (i = 0; i < users.length; i++) {
            const user = users[i];
            // Fill the table using this format: 
            // <tr class="text-xs bg-gray-50">
            //  <td class="py-5 px-6 font-medium">id here</td>
            //    <td class="font-medium">name here</td>
            //  </tr>
            //
            $("#mtotpages").html(Math.ceil(data.response.tot / 30));
            $("#membersTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">${user.userid}</td>
              <td class="font-medium">${user.name}</td>
              <td class="font-medium"><a style="cursor:pointer;color:grey" id="MemberInfoBtn${user.userid}" onclick="memberDetail('${user.userid}')">Show Details</td>
            </tr>`)
          }
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000, false);
          console.warn(`Failed to load members. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function memberDetail(userid) {
      $("#MemberInfoBtn" + userid).attr("disabled", "disabled");
      $("#MemberInfoBtn" + userid).html("Loading...");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/info?userid=" + String(userid),
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          info = "";
          if (!data.error) {
            d = data.response;
            roles = d.roles;
            rtxt = "";
            for (var i = 0; i < roles.length; i++)
              if (rolelist[roles[i]] != undefined) rtxt += rolelist[roles[i]] + ", ";
              else rtxt += "Unknown Role (ID " + roles[i] + "), ";
            rtxt = rtxt.substring(0, rtxt.length - 2);
            info += "<p style='text-align:left'><b>Name:</b> " + d.name + "</p>";
            info += "<p style='text-align:left'><b>User ID:</b> " + d.userid + "</p>"
            info += "<p style='text-align:left'><b>Roles:</b> " + rtxt + "</p>";
            if (d.email != undefined) info += "<p style='text-align:left'><b>Email:</b> " + d.email + "</p>";
            info += "<p style='text-align:left'><b>Discord ID:</b> " + d.discordid + "</p>";
            info +=
              "<p style='text-align:left'><b>TruckersMP ID:</b> <a href='https://truckersmp.com/user/" +
              d.truckersmpid + "'>" + d.truckersmpid + "</a></p>";
            info +=
              "<p style='text-align:left'><b>Steam ID:</b> <a href='https://steamcommunity.com/profiles/" +
              d.steamid + "'>" + d.steamid + "</a></p>";
            info += "<br><p style='text-align:left'><b>Join:</b> " + getDateTime(d.join * 1000) + "</p>";
            info += "<p style='text-align:left'><b>Total Jobs:</b> " + d.totjobs + "</p>";
            info += "<p style='text-align:left'><b>Distance Driven:</b> " + parseInt(d.distance / 1.6) + "Mi</p>";
            info += "<p style='text-align:left'><b>Fuel Consumed:</b> " + parseInt(d.fuel) + "L</p>";
            info += "<p style='text-align:left'><b>XP Earned:</b> " + d.xp + "</p>";
            info += "<p style='text-align:left'><b>Event Points:</b> " + parseInt(d.eventpnt) + "</p>";
            info += "<p style='text-align:left'><b>Total Points:</b> " + parseInt(d.distance / 1.6 + d.eventpnt) +
              "</p>";

          }
          Swal.fire({
            title: d.name,
            html: info,
            icon: 'info',
            confirmButtonText: 'Close'
          })
          $("#MemberInfoBtn" + userid).removeAttr("disabled");
          $("#MemberInfoBtn" + userid).html("Show Details");
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load member details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    lastfetch = -1;

    function fetchRoles() {
      userid = $("#memberroleid").val();
      if (!isNumber(userid)) {
        toastFactory("error", "Error:", "Please enter a valid user ID.", 5000, false);
        return;
      }
      $("#fetchRolesBtn").html("Working...");
      $("#fetchRolesBtn").attr("disabled", "disabled");
      $("#rolelist").children().children().prop("checked", false);
      $("#memberrolename").html("");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/info?userid=" + String(userid),
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          $("#fetchRolesBtn").html("Fetch Existing Roles");
          $("#fetchRolesBtn").removeAttr("disabled");
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
          info = "";
          if (!data.error) {
            lastfetch = userid;
            d = data.response;
            roles = d.roles;
            rtxt = "";
            $("#memberrolename").html(d.name);
            for (var i = 0; i < roles.length; i++)
              $("#role" + roles[i]).prop("checked", true);
            return toastFactory("success", "Success!", "Existing roles are checked!", 5000, false);
          }
        },
        error: function (data) {
          $("#fetchRolesBtn").html("Fetch Existing Roles");
          $("#fetchRolesBtn").removeAttr("disabled");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load member details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    function updateMemberRoles() {
      userid = $("#memberroleid").val();
      if (!isNumber(userid)) {
        toastFactory("error", "Error:", "Please enter a valid user ID.", 5000, false);
        return;
      }
      if (lastfetch != userid) {
        toastFactory("error", "Error:", "Please fetch the roles first.", 5000, false);
        return;
      }
      $("#updateMemberRolesBtn").html("Working...");
      $("#updateMemberRolesBtn").attr("disabled", "disabled");
      d = $('input[name="assignrole"]:checked');
      roles = [];
      for (var i = 0; i < d.length; i++) {
        roles.push(d[i].id.replaceAll("role", ""));
      }
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/role",
        type: "POST",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          "userid": userid,
          "roles": roles.join(",")
        },
        success: function (data) {
          $("#updateMemberRolesBtn").html("Update");
          $("#updateMemberRolesBtn").removeAttr("disabled");
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
          info = "";
          if (!data.error) {
            return toastFactory("success", "Success!", "Member roles updated!", 5000, false);
          }
        },
        error: function (data) {
          $("#updateMemberRolesBtn").html("Update");
          $("#updateMemberRolesBtn").removeAttr("disabled");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load member details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    function updateMemberPoints() {
      userid = $("#memberpntid").val();
      if (!isNumber(userid)) {
        toastFactory("error", "Error:", "Please enter a valid user ID.", 5000, false);
        return;
      }
      miles = $("#memberpntmile").val();
      eventpnt = $("#memberpntevent").val();
      $("#updateMemberPointsBtn").html("Working...");
      $("#updateMemberPointsBtn").attr("disabled", "disabled");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/point",
        type: "POST",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          "userid": userid,
          "mile": miles,
          "eventpnt": eventpnt
        },
        success: function (data) {
          $("#updateMemberPointsBtn").html("Update");
          $("#updateMemberPointsBtn").removeAttr("disabled");
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
          info = "";
          if (!data.error) {
            return toastFactory("success", "Success!", "Member points updated!", 5000, false);
          }
        },
        error: function (data) {
          $("#updateMemberPointsBtn").html("Update");
          $("#updateMemberPointsBtn").removeAttr("disabled");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load member details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    dismissid = 0;

    function dismissUser() {
      userid = $("#dismissUserID").val();
      if ($("#dismissbtn").html() != "Confirm?" || dismissid != userid) {
        $("#dismissbtn").html("Fetching name...");
        $("#dismissbtn").attr("disabled", "disabled");
        $.ajax({
          url: "https://drivershub.charlws.com/atm/member/info?userid=" + String(userid),
          type: "GET",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + localStorage.getItem("token")
          },
          success: function (data) {
            $("#dismissbtn").html("Dismiss");
            $("#dismissbtn").removeAttr("disabled");
            $("#memberdismissname").html("");
            if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
            info = "";
            if (!data.error) {
              lastfetch = userid;
              d = data.response;
              roles = d.roles;
              rtxt = "";
              $("#memberdismissname").html("Dismiss <b>" + d.name + "</b>?");
              $("#dismissbtn").html("Confirm?");
              dismissid = userid;
            }
          },
          error: function (data) {
            $("#dismissbtn").html("Dismiss");
            $("#dismissbtn").removeAttr("disabled");
            toastFactory("error", "Error:", "Please check the console for more info.", 5000,
              false);
            console.warn(
              `Failed to load member details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
            console.log(data);
          }
        });
        return;
      }
      $("#dismissbtn").html("Working...");
      $("#dismissbtn").attr("disabled", "disabled");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/dismiss?userid=" + String(userid),
        type: "DELETE",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          $("#memberdismissname").html("");
          $("#dismissUserID").val("");
          $("#dismissbtn").removeAttr("disabled");
          $("#dismissbtn").html("Dismiss");
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          return toastFactory("success", "Success", "Member dismissed", 5000, false);
        },
        error: function (data) {
          $("#dismissbtn").removeAttr("disabled");
          $("#dismissbtn").html("Dismiss");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to dismiss member. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    function loadUsers() {
      page = $("#pupages").val();
      if (page == "") page = 1;
      $.ajax({
        url: "https://drivershub.charlws.com/atm/user/list?page=" + page,
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
          $("#usersTable").empty();
          const users = data.response.list;

          if (users.length == 0) {
            $("#usersTableHead").hide();
            $("#usersTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">Nothing found</td>
            </tr>`);
            return;
          }
          for (i = 0; i < users.length; i++) {
            const user = users[i];
            // Fill the table using this format: 
            // <tr class="text-xs bg-gray-50">
            //  <td class="py-5 px-6 font-medium">id here</td>
            //    <td class="font-medium">name here</td>
            //  </tr>
            //
            $("#putotpages").html(Math.ceil(data.response.tot / 30));
            $("#usersTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">${user.discordid}</td>
              <td class="font-medium">${user.name}</td>
              <td class="font-medium"><a style="cursor:pointer;color:grey" id="UserInfoBtn${user.discordid}" onclick="userDetail('${user.discordid}')">Show Details</td>
            </tr>`)
          }
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000, false);
          console.warn(`Failed to load users. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function addUser() {
      discordid = $("#adddiscordid").val();
      if (!isNumber(discordid)) {
        return toastFactory("error", "Error:", "Please enter a valid discord id.", 5000, false);
      }
      $.ajax({
        url: "https://drivershub.charlws.com/atm/member/add",
        type: "POSt",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          discordid: discordid
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          toastFactory("success", "Success", "User added successfully. User ID: " + data.response.userid, 5000,
            false);
          loadUsers();
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to add user. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function userDetail(discordid) {
      $("#UserInfoBtn" + discordid).attr("disabled", "disabled");
      $("#UserInfoBtn" + discordid).html("Loading...");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/user/info?qdiscordid=" + String(discordid),
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          info = "";
          if (!data.error) {
            d = data.response;
            info += "<p style='text-align:left'><b>Name:</b> " + d.name + "</p>";
            info += "<p style='text-align:left'><b>Email:</b> " + d.email + "</p>";
            info += "<p style='text-align:left'><b>Discord ID:</b> " + discordid + "</p>";
            info +=
              "<p style='text-align:left'><b>TruckersMP ID:</b> <a href='https://truckersmp.com/user/" +
              d.truckersmpid + "'>" + d.truckersmpid + "</a></p>";
            info +=
              "<p style='text-align:left'><b>Steam ID:</b> <a href='https://steamcommunity.com/profiles/" +
              d.steamid + "'>" + d.steamid + "</a></p><br>";
          }
          Swal.fire({
            title: d.name,
            html: info,
            icon: 'info',
            confirmButtonText: 'Close'
          })
          $("#UserInfoBtn" + discordid).removeAttr("disabled");
          $("#UserInfoBtn" + discordid).html("Show Details");
        },
        error: function (data) {
          $("#UserInfoBtn" + discordid).attr("disabled", "disabled");
          $("#UserInfoBtn" + discordid).html("Loading...");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load user details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    function banUser() {
      discordid = $("#bandiscordid").val();
      if (!isNumber(discordid)) {
        return toastFactory("error", "Error:", "Please enter a valid discord id.", 5000, false);
      }
      $.ajax({
        url: "https://drivershub.charlws.com/atm/user/ban",
        type: "POSt",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          discordid: discordid
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          loadUsers();
          toastFactory("success", "Success", "User banned successfully.", 5000, false);
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to ban user. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function unbanUser() {
      discordid = $("#bandiscordid").val();
      if (!isNumber(discordid)) {
        return toastFactory("error", "Error:", "Please enter a valid discord id.", 5000, false);
      }
      $.ajax({
        url: "https://drivershub.charlws.com/atm/user/unban",
        type: "POSt",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          discordid: discordid
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          toastFactory("success", "Success", "User unbanned successfully.", 5000, false);
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to unban user. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function loadMyApp() {
      page = $("#myapppage").val();
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application/list?page=" + page + "&apptype=0",
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          $("#myappTable").empty();
          const applications = data.response.list;
          APPTYPE = ["", "Driver", "Staff", "LOA"];
          STATUS = ["Pending", "Accepted", "Declined"]
          if (applications.length == 0) {
            $("#myappTableHead").hide();
            $("#myappTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">Nothing found</td>
            </tr>`);
            return;
          }
          $("#myappTableHead").show();
          $("#myapptotpages").html(Math.ceil(data.response.tot / 10));
          for (i = 0; i < applications.length; i++) {
            const application = applications[i];
            // Fill the table using this format: 
            // <tr class="text-xs bg-gray-50">
            //  <td class="py-5 px-6 font-medium">id here</td>
            //    <td class="font-medium">name here</td>
            //  </tr>
            //
            apptype = APPTYPE[application.apptype];
            creation = getDateTime(application.submitTimestamp * 1000);
            closedat = getDateTime(application.closedTimestamp * 1000);
            if (application.closedTimestamp == 0) {
              closedat = "/";
              console.log(closedat);
            }
            status = STATUS[application.status];

            $("#myappTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">${application.applicationid}</td>
              <td class="font-medium">${apptype}</td>
              <td class="font-medium">${creation}</td>
              <td class="font-medium">${status}</td>
              <td class="font-medium">${closedat}</td>
              <td class="font-medium"><a style="cursor:pointer;color:grey" id="MyAppBtn${application.applicationid}" onclick="appDetail(${application.applicationid})">Show Details</td>
            </tr>`);
          }
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load applications. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function addAppMessage() {
      appid = $("#appmsgid").val();
      if (!isNumber(appid)) {
        toastFactory("error", "Error:", "Please enter a valid application ID.", 5000, false);
        return;
      }
      message = $("#appmsgcontent").val();
      $("#addAppMessageBtn").html("Adding...");
      $("#addAppMessageBtn").attr("disabled", "disabled");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application",
        type: "PATCH",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          "applicationid": appid,
          "message": message
        },
        success: function (data) {
          $("#addAppMessageBtn").html("Add");
          $("#addAppMessageBtn").removeAttr("disabled");
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000, false);
          info = "";
          if (!data.error) {
            return toastFactory("success", "Success!", "Message added!", 5000, false);
          }
        },
        error: function (data) {
          $("#addAppMessageBtn").html("Add");
          $("#addAppMessageBtn").removeAttr("disabled");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load member details. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      });
    }

    function loadAllApp() {
      page = $('#allapppage').val();
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application/list?page=" + page + "&apptype=0&showall=1",
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          console.log(data);
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          $("#allappTable").empty();
          $("#totpages").html(Math.ceil(data.response.tot / 10));
          $("#allapppage").val(data.response.page);
          const applications = data.response.list;
          APPTYPE = ["", "Driver", "Staff", "LOA"];
          STATUS = ["Pending", "Accepted", "Declined"];
          if (applications.length == 0) {
            $("#allappTableHead").hide();
            $("#allappTable").append(`
            <tr class="text-xs bg-gray-50">
              <td class="py-5 px-6 font-medium">Nothing found</td>
            </tr>`);
            return;
          }
          $("#allappTableHead").show();
          for (i = 0; i < applications.length; i++) {
            const application = applications[i];
            // Fill the table using this format: 
            // <tr class="text-xs bg-gray-50">
            //  <td class="py-5 px-6 font-medium">id here</td>
            //    <td class="font-medium">name here</td>
            //  </tr>
            //
            apptype = APPTYPE[application.apptype];
            creation = getDateTime(application.submitTimestamp * 1000);
            closedat = getDateTime(application.closedTimestamp * 1000);
            if (application.closedTimestamp == 0) {
              closedat = "/";
              console.log(closedat);
            }
            status = STATUS[application.status];

            $("#allappTable").append(`
            <tr class="text-xs bg-gray-50" id="AllApp${application.applicationid}">
              <td class="py-5 px-6 font-medium">${application.applicationid}</td>
              <td class="py-5 px-6 font-medium">${application.discordid}</td>
              <td class="font-medium">${apptype}</td>
              <td class="font-medium">${creation}</td>
              <td class="font-medium">${status}</td>
              <td class="font-medium">${closedat}</td>
              <td class="font-medium"><a style="cursor:pointer;color:grey" id="AllAppBtn${application.applicationid}" onclick="appDetail(${application.applicationid})">Show Details</td>
            </tr>`);
          }
        },
        error: function (data) {
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load applications. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function appDetail(applicationid) {
      $("#AllAppBtn" + applicationid).attr("disabled", "disabled");
      $("#AllAppBtn" + applicationid).html("Loading...");
      $("#MyAppBtn" + applicationid).attr("disabled", "disabled");
      $("#MyAppBtn" + applicationid).html("Loading...");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application?applicationid=" + applicationid,
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        success: function (data) {
          if (data.error) return toastFactory("error", "Error:", data.descriptor, 5000,
            false);
          d = data.response.data;
          discordid = data.response.discordid;
          keys = Object.keys(d);
          if (keys.length == 0) {
            return toastFactory("error", "Error:", "Application has no data", 5000,
              false);
          }
          APPTYPE = ["", "Driver", "Staff", "LOA"];
          apptype = APPTYPE[data.response.apptype];
          ret = "";
          for (i = 0; i < keys.length; i++) {
            ret += "<p style='text-align:left'><b>" + keys[i] + ":</b><br> " + d[keys[i]] + "</p><br>";
          }
          ret += "";

          $.ajax({
            url: "https://drivershub.charlws.com/atm/user/info?qdiscordid=" + String(discordid),
            type: "GET",
            dataType: "json",
            headers: {
              "Authorization": "Bearer " + localStorage.getItem("token")
            },
            success: function (data) {
              info = "";
              if (!data.error) {
                d = data.response;
                info += "<p style='text-align:left'><b>Name:</b> " + d.name + "</p>";
                info += "<p style='text-align:left'><b>Email:</b> " + d.email + "</p>";
                info += "<p style='text-align:left'><b>Discord ID:</b> " + discordid + "</p>";
                info +=
                  "<p style='text-align:left'><b>TruckersMP ID:</b> <a href='https://truckersmp.com/user/" +
                  d.truckersmpid + "'>" + d.truckersmpid + "</a></p>";
                info +=
                  "<p style='text-align:left'><b>Steam ID:</b> <a href='https://steamcommunity.com/profiles/" +
                  d.steamid + "'>" + d.steamid + "</a></p><br>";
              }
              Swal.fire({
                title: apptype + ' Application #' + applicationid,
                html: info + ret.replaceAll("\n", "<br>"),
                icon: 'info',
                confirmButtonText: 'Close'
              })
              $("#AllAppBtn" + applicationid).removeAttr("disabled");
              $("#AllAppBtn" + applicationid).html("Show Details");
              $("#MyAppBtn" + applicationid).removeAttr("disabled");
              $("#MyAppBtn" + applicationid).html("Show Details");
            }
          });
        },
        error: function (data) {
          $("#AllAppBtn" + applicationid).removeAttr("disabled");
          $("#AllAppBtn" + applicationid).html("Show Details");
          $("#MyAppBtn" + applicationid).removeAttr("disabled");
          $("#MyAppBtn" + applicationid).html("Show Details");
          toastFactory("error", "Error:", "Please check the console for more info.", 5000,
            false);
          console.warn(
            `Failed to load applications. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function updateAppStatus() {
      $("#updateAppStatusBtn").attr("disabled", true);
      $("#updateAppStatusBtn").html("Updating...");
      appid = $("#appstatusid").val();
      appstatus = parseInt($("#appstatussel").find(":selected").val());
      message = $("#appmessage").val();
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application/status",
        type: "POST",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          "applicationid": appid,
          "status": appstatus,
          "message": message
        },
        success: function (data) {
          $("#updateAppStatusBtn").removeAttr("disabled");
          $("#updateAppStatusBtn").html("Update");
          if (data.error) return toastFactory("error", "Error:", data.descriptor,
            5000, false);
          else {
            loadAllApp();
            return toastFactory("success", "Application status updated.", data.response.message, 5000, false);
          }
        },
        error: function (data) {
          $("#updateAppStatusBtn").removeAttr("disabled");
          $("#updateAppStat usBtn").html("Update");
          toastFactory("error", "Error:", "Please check the console for more info.",
            5000,
            false);
          console.warn(
            `Failed to load applications. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    function updateStaffPosition() {
      $("#updateStaffPositionBtn").attr("disabled", true);
      $("#updateStaffPositionBtn").html("Updating...");
      positions = $("#staffposedit").val().replaceAll("\n", ",");
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application/positions",
        type: "POST",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + localStorage.getItem("token")
        },
        data: {
          "positions": positions
        },
        success: function (data) {
          $("#updateStaffPositionBtn").removeAttr("disabled");
          $("#updateStaffPositionBtn").html("Update");
          if (data.error) return toastFactory("error", "Error:", data.descriptor,
            5000, false);
          else {
            return toastFactory("success", "Success!", data.response.message, 5000, false);
          }
        },
        error: function (data) {
          $("#updateStaffPositionBtn").removeAttr("disabled");
          $("#updateStaffPositionBtn").html("Update");
          toastFactory("error", "Error:", "Please check the console for more info.",
            5000,
            false);
          console.warn(
            `Failed to load applications. Error: ${data.descriptor ? data.descriptor : 'Unknown Error'}`);
          console.log(data);
        }
      })
    }

    $(document).ready(function () {
      validate();

      $("#pupages").val("1");
      $("#allapppage").val("1");
      $("#myapppage").val("1");

      $("#logout").click(function () {
        token = localStorage.getItem("token")
        $.ajax({
          url: "https://drivershub.charlws.com/atm/user/revoke",
          type: "POST",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + token
          },
          success: function (data) {
            localStorage.removeItem("token");
            window.location.href = "/login";
          },
          error: function (data) {
            localStorage.removeItem("token");
            window.location.href = "/login";
          }
        });
      });
      $('#appselect').on('change', function () {
        var value = $(this).val();
        $(".apptabs").hide();
        if (value == "driver") {
          $("#DriverApp").show();
        } else if (value == "staff") {
          $("#StaffApp").show();
        } else if (value == "loa") {
          $("#LOAApp").show();
        }
      });
      annpage = 2;
      $.ajax({
        url: "https://drivershub.charlws.com/atm/announcement?page=1",
        type: "GET",
        dataType: "json",
        headers: {
          "Authorization": "Bearer " + token
        },
        success: function (data) {
          ann = data.response.list;
          if (ann.length > 0) {
            a = ann[0];
            dt = getDateTime(a.timestamp * 1000);
            content = "<span style='font-size:10px;color:grey'><b>#" + a.aid + "</b> | <b>" + dt +
              "</b> by <i>" + a.by + "</i></span><br>" + a
              .content.replaceAll("\n", "<br>");
            TYPES = ["info", "info", "warning", "criticle", "resolved"];
            banner = genBanner(TYPES[a.atype], a.title, content);
            $("#HomeTab").append(banner);
          }
          for (i = 0; i < ann.length; i++) {
            a = ann[i];
            dt = getDateTime(a.timestamp * 1000);
            content = "<span style='font-size:10px;color:grey'><b>#" + a.aid + "</b> | <b>" + dt +
              "</b> by <i>" + a.by + "</i></span><br>" + a
              .content.replaceAll("\n", "<br>");
            TYPES = ["info", "info", "warning", "criticle", "resolved"];
            banner = genBanner(TYPES[a.atype], a.title, content);
            $("#anns").append(banner);
          }
        }
      });
      $.ajax({
        url: "https://drivershub.charlws.com/atm/application/positions",
        type: "GET",
        dataType: "json",
        success: function (data) {
          positions = data.response;
          positionstxt = "";
          for(var i = 0 ; i < positions.length ; i++){
            positionstxt += positions[i] + "\n";
            $("#sa-select").append("<option>" + positions[i] + "</option>");
          }
          $("#staffposedit").val(positionstxt);
        }
      });
      $("#annloadmore").click(function () {
        $.ajax({
          url: "https://drivershub.charlws.com/atm/announcement?page=" + annpage,
          type: "GET",
          dataType: "json",
          headers: {
            "Authorization": "Bearer " + token
          },
          success: function (data) {
            ann = data.response.list;
            for (i = 0; i < ann.length; i++) {
              a = ann[i];
              dt = getDateTime(a.timestamp * 1000);
              content = "<span style='font-size:10px;color:grey'><b>#" + a.aid + "</b> | <b>" + dt +
                "</b> by <i>" + a.by + "</i></span><br>" +
                a
                .content.replaceAll("\n", "<br>");
              TYPES = ["info", "info", "warning", "criticle", "resolved"];
              banner = genBanner(TYPES[a.atype], a.title, content);
              $("#anns").append(banner);
            }
            if (ann.length == 0) {
              toastFactory("info", "No more announcements", "You have reached the end of the list", 5000,
                false);
              $("#annloadmore").attr("disabled", "disabled");
            }
          }
        });
      });
    });
  </script>
</head>

<body class="antialiased bg-body text-body font-body">
  <div class="">
    <div>
      <nav class="lg:hidden py-6 px-6 bg-gray-800">
        <div class="flex items-center justify-between">
          <a class="text-2xl text-white font-semibold" style="cursor: pointer"><img src="images/banner.png" alt=""
              width="200"></a>
          <button class="navbar-burger flex items-center rounded focus:outline-none">
            <svg class="text-white bg-indigo-500 hover:bg-indigo-600 block h-8 w-8 p-2 rounded" viewbox="0 0 20 20"
              xmlns="http://www.w3.org/2000/svg" fill="currentColor">
              <title>Mobile menu</title>
              <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
            </svg></button>
        </div>
      </nav>
      <div class="hidden lg:block navbar-menu relative z-50">
        <div class="navbar-backdrop fixed lg:hidden inset-0 bg-gray-800 opacity-10"></div>
        <nav
          class="fixed top-0 left-0 bottom-0 flex flex-col w-3/4 lg:w-80 sm:max-w-xs pt-6 pb-8 bg-gray-800 overflow-y-auto">
          <div class="flex w-full items-center px-6 pb-6 mb-6 lg:border-b border-gray-700">
            <a class="text-xl text-white font-semibold" style="cursor: pointer"
              onclick="ShowTab('#HomeTab', '#HomeTabBtn')"><img src="images/banner.png" alt="" width="100%"></a>
          </div>
          <div class="px-4 pb-6">
            <h3 class="mb-2 text-xs uppercase text-gray-500 font-medium">At The Mile</h3>
            <ul class="text-sm font-medium">
              <li>
                <a id="HomeTabBtn"
                  class="flex items-center pl-3 py-3 pr-4 text-gray-50 rounded hover:bg-gray-900 tabbtns bg-indigo-500"
                  style="cursor: pointer" onclick="ShowTab('#HomeTab', '#HomeTabBtn')">
                  <span class="inline-block mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-smart-home" width="18"
                      height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                      stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path
                        d="M19 8.71l-5.333 -4.148a2.666 2.666 0 0 0 -3.274 0l-5.334 4.148a2.665 2.665 0 0 0 -1.029 2.105v7.2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-7.2c0 -.823 -.38 -1.6 -1.03 -2.105" />
                      <path d="M16 15c-2.21 1.333 -5.792 1.333 -8 0" /> </svg> </span>
                  <span>Home</span>
                  <span class="inline-block ml-auto">
                  </span>
                </a>
              </li>

              <li>
                <a id="AnnTabBtn"
                  class="flex items-center pl-3 py-3 pr-4 text-gray-50 rounded hover:bg-gray-900 tabbtns"
                  style="cursor: pointer" onclick="ShowTab('#AnnTab', '#AnnTabBtn')">
                  <span class="inline-block mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                      class="bi bi-newspaper" viewBox="0 0 16 16">
                      <path
                        d="M0 2.5A1.5 1.5 0 0 1 1.5 1h11A1.5 1.5 0 0 1 14 2.5v10.528c0 .3-.05.654-.238.972h.738a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 1 1 0v9a1.5 1.5 0 0 1-1.5 1.5H1.497A1.497 1.497 0 0 1 0 13.5v-11zM12 14c.37 0 .654-.211.853-.441.092-.106.147-.279.147-.531V2.5a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0-.5.5v11c0 .278.223.5.497.5H12z" />
                      <path
                        d="M2 3h10v2H2V3zm0 3h4v3H2V6zm0 4h4v1H2v-1zm0 2h4v1H2v-1zm5-6h2v1H7V6zm3 0h2v1h-2V6zM7 8h2v1H7V8zm3 0h2v1h-2V8zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1zm-3 2h2v1H7v-1zm3 0h2v1h-2v-1z" />
                    </svg> </span>
                  <span>Announcements</span>
                  <span class="inline-block ml-auto">
                  </span>
                </a>
              </li>

              <li>
                <a id="AllMemberBtn"
                  class="flex items-center pl-3 py-3 pr-4 text-gray-50 hover:bg-gray-900 rounded tabbtns"
                  style="cursor: pointer" onclick="ShowTab('#AllMembers', '#AllMemberBtn')">
                  <span class="inline-block mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                      class="feather feather-users">
                      <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                      <circle cx="9" cy="7" r="4"></circle>
                      <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                      <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                    </svg> </span>
                  <span>Members</span>
                  <span class="inline-block ml-auto">
                    <svg class="text-gray-400 w-3 h-3" viewbox="0 0 10 6" fill="none"
                      xmlns="http://www.w3.org/2000/svg"></svg></span>
                </a>
              </li>
            </ul>
          </div>
          <div class="px-4 pb-6">
            <h3 class="mb-2 text-xs uppercase text-gray-500 font-medium">Recruitment Center</h3>
            <ul class="text-sm font-medium">
              <li>
                <a id="MyAppBtn" class="flex items-center pl-3 py-3 pr-4 text-gray-50 rounded hover:bg-gray-900 tabbtns"
                  style="cursor: pointer" onclick="ShowTab('#MyApp', '#MyAppBtn')">
                  <span class="inline-block mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                      class="bi bi-archive" viewBox="0 0 16 16">
                      <path
                        d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
                    </svg>
                  </span>
                  <span id="MyAppSpan">My Applications</span>
                  <span class="inline-block ml-auto">
                  </span>
                </a>
              </li>

              </li>
              <li>
                <a id="SubmitAppBtn"
                  class="flex items-center pl-3 py-3 pr-4 text-gray-50 hover:bg-gray-900 rounded tabbtns"
                  style="cursor: pointer" onclick="ShowTab('#SubmitApp', '#SubmitAppBtn')">
                  <span class="inline-block mr-3">
                    <svg width="18" height="18" stroke-width="1.5" viewBox="0 0 24 24" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path d="M2 12H5M8 12H5M5 12V9M5 12V15" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" />
                      <path
                        d="M6.25 6L6.49485 5.72018C7.29167 4.80952 8.70833 4.80952 9.50515 5.72017L13.8476 10.683C14.5074 11.437 14.5074 12.563 13.8476 13.317L9.50515 18.2798C8.70833 19.1905 7.29167 19.1905 6.49485 18.2798L6.25 18"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M13 19L17.8844 13.3016C18.5263 12.5526 18.5263 11.4474 17.8844 10.6984L13 5"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" />
                      <path d="M17 19L21.8844 13.3016C22.5263 12.5526 22.5263 11.4474 21.8844 10.6984L17 5"
                        stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" /> </svg> </span>
                  <span>Submit Application</span>
                  <span class="inline-block ml-auto">
                    <svg class="text-gray-400 w-3 h-3" viewbox="0 0 10 6" fill="none"
                      xmlns="http://www.w3.org/2000/svg"></svg></span>
                </a>
            </ul>
          </div>
          <div class="px-4 pb-6" id="stafftabs" style="display:none">
            <h3 class="mb-2 text-xs uppercase text-gray-500 font-medium">Staff</h3>
            <ul class="mb-8 text-sm font-medium">
              <li>
                <a id="AllAppBtn"
                  class="flex items-center pl-3 py-3 pr-4 text-gray-50 hover:bg-gray-900 rounded tabbtns"
                  style="cursor: pointer" onclick="ShowTab('#AllApp', '#AllAppBtn')">
                  <span class="inline-block mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
                      class="bi bi-archive" viewBox="0 0 16 16">
                      <path
                        d="M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
                    </svg>
                  </span>
                  <span>Applications</span>
                  <span class="inline-block ml-auto">
                    <svg class="text-gray-400 w-3 h-3" viewbox="0 0 10 6" fill="none"
                      xmlns="http://www.w3.org/2000/svg"></svg></span>
                </a>
              </li>
              <li>
                <a id="AllUserBtn"
                  class="flex items-center pl-3 py-3 pr-4 text-gray-50 hover:bg-gray-900 rounded tabbtns"
                  style="cursor: pointer" onclick="ShowTab('#AllUsers', '#AllUserBtn')">
                  <span class="inline-block mr-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                      fill="currentColor">
                      <path
                        d="M14 14.252V22H4a8 8 0 0 1 10-7.748zM12 13c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm6 4v-3h2v3h3v2h-3v3h-2v-3h-3v-2h3z" />
                    </svg> </span>
                  <span>Pending Users</span>
                  <span class="inline-block ml-auto">
                    <svg class="text-gray-400 w-3 h-3" viewbox="0 0 10 6" fill="none"
                      xmlns="http://www.w3.org/2000/svg"></svg></span>
                </a>
              </li>
            </ul>
          </div>
        </nav>
      </div>
      <section class="py-5 px-6 bg-white shadow mx-auto lg:ml-80">
        <nav class="relative">
          <div class="flex items-center">
            <div class="hidden lg:block" style="margin-left:auto;margin-right:0">
              <button class="flex">
                <a id="logout" style="cursor: pointer;margin-top:11px">
                  <span class="inline-block mr-4">
                    <svg class="text-gray-600 w-5 h-5" viewbox="0 0 14 18" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M0.333618 8.99996C0.333618 9.22097 0.421416 9.43293 0.577696 9.58922C0.733976 9.7455 0.945938 9.83329 1.16695 9.83329H7.49195L5.57528 11.7416C5.49718 11.8191 5.43518 11.9113 5.39287 12.0128C5.35057 12.1144 5.32879 12.2233 5.32879 12.3333C5.32879 12.4433 5.35057 12.5522 5.39287 12.6538C5.43518 12.7553 5.49718 12.8475 5.57528 12.925C5.65275 13.0031 5.74492 13.0651 5.84647 13.1074C5.94802 13.1497 6.05694 13.1715 6.16695 13.1715C6.27696 13.1715 6.38588 13.1497 6.48743 13.1074C6.58898 13.0651 6.68115 13.0031 6.75862 12.925L10.0919 9.59163C10.1678 9.51237 10.2273 9.41892 10.2669 9.31663C10.3503 9.11374 10.3503 8.88618 10.2669 8.68329C10.2273 8.581 10.1678 8.48755 10.0919 8.40829L6.75862 5.07496C6.68092 4.99726 6.58868 4.93563 6.48716 4.89358C6.38564 4.85153 6.27683 4.82988 6.16695 4.82988C6.05707 4.82988 5.94826 4.85153 5.84674 4.89358C5.74522 4.93563 5.65298 4.99726 5.57528 5.07496C5.49759 5.15266 5.43595 5.2449 5.3939 5.34642C5.35185 5.44794 5.33021 5.55674 5.33021 5.66663C5.33021 5.77651 5.35185 5.88532 5.3939 5.98683C5.43595 6.08835 5.49759 6.18059 5.57528 6.25829L7.49195 8.16663H1.16695C0.945938 8.16663 0.733976 8.25442 0.577696 8.4107C0.421416 8.56698 0.333618 8.77895 0.333618 8.99996ZM11.1669 0.666626H2.83362C2.17058 0.666626 1.53469 0.930018 1.06585 1.39886C0.59701 1.8677 0.333618 2.50358 0.333618 3.16663V5.66663C0.333618 5.88764 0.421416 6.0996 0.577696 6.25588C0.733976 6.41216 0.945938 6.49996 1.16695 6.49996C1.38797 6.49996 1.59993 6.41216 1.75621 6.25588C1.91249 6.0996 2.00028 5.88764 2.00028 5.66663V3.16663C2.00028 2.94561 2.08808 2.73365 2.24436 2.57737C2.40064 2.42109 2.6126 2.33329 2.83362 2.33329H11.1669C11.388 2.33329 11.5999 2.42109 11.7562 2.57737C11.9125 2.73365 12.0003 2.94561 12.0003 3.16663V14.8333C12.0003 15.0543 11.9125 15.2663 11.7562 15.4225C11.5999 15.5788 11.388 15.6666 11.1669 15.6666H2.83362C2.6126 15.6666 2.40064 15.5788 2.24436 15.4225C2.08808 15.2663 2.00028 15.0543 2.00028 14.8333V12.3333C2.00028 12.1123 1.91249 11.9003 1.75621 11.744C1.59993 11.5878 1.38797 11.5 1.16695 11.5C0.945938 11.5 0.733976 11.5878 0.577696 11.744C0.421416 11.9003 0.333618 12.1123 0.333618 12.3333V14.8333C0.333618 15.4963 0.59701 16.1322 1.06585 16.6011C1.53469 17.0699 2.17058 17.3333 2.83362 17.3333H11.1669C11.83 17.3333 12.4659 17.0699 12.9347 16.6011C13.4036 16.1322 13.6669 15.4963 13.6669 14.8333V3.16663C13.6669 2.50358 13.4036 1.8677 12.9347 1.39886C12.4659 0.930018 11.83 0.666626 11.1669 0.666626Z"
                        fill="currentColor"></path>
                    </svg></span>
                </a>
                <div class="mr-3">
                  <p id="name" class="text-sm" style="text-align:right">CharlesWithC</p>
                  <p id="role" class="text-sm text-gray-500" style="text-align:right">Loner</p>
                </div>
                <div class="mr-2"><img id="avatar" class="w-10 h-10 rounded-full object-cover object-right" width="40"
                    src="https://cdn.discordapp.com/avatars/873178118213472286/a_20ad49948c848062f8b5b538e78fa75c.gif"
                    alt="" /></div>
              </button>
            </div>
          </div>
        </nav>
      </section>

      <section id="AllApp" class="py-8 tabs" style="display: none;">
        <div style="padding:50px;padding-top:0;">
          <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
            <div class="flex px-6 pb-4 border-b">
              <h3 class="text-xl font-bold">Update Application Status</h3>
            </div>
            <div class="p-4 overflow-x-auto" style="display: block;">
              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Application ID</label>
                <input id="appstatusid" style="width:200px"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></input></div>

              <div class="mb-6 relative" style="width:200px">
                <label class="block text-sm font-medium mb-2 text-left" for="">New Status:</label>
                <select id="appstatussel"
                  class="appearance-none block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name">
                  <option value="0">Pending</option>
                  <option value="1">Accepted</option>
                  <option value="2">Declined</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                  <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
                    <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path>
                  </svg>
                </div>
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Message</label>
                <textarea id="appmessage"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></textarea></div>

              <button type="button"
                class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                onclick="updateAppStatus()" id="updateAppStatusBtn">Update</button>
            </div>
          </div>
          <br>
          <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded" style="padding-bottom:80px">
            <div class="flex px-6 pb-4 border-b">
              <h3 class="text-xl font-bold">Applications</h3>
            </div>
            <div class="p-4 overflow-x-auto" style="display: block;">
              <table class="table-auto w-full">
                <thead id="allappTableHead" style="display:none">
                  <tr class="text-xs text-gray-500 text-left">
                    <th class="pb-3 font-medium">ID</th>
                    <th class="pb-3 font-medium">Discord ID</th>
                    <th class="pb-3 font-medium">Type</th>
                    <th class="pb-3 font-medium">Submitted At</th>
                    <th class="pb-3 font-medium">Status</th>
                    <th class="pb-3 font-medium">Closed At</th>
                  </tr>
                </thead>
                <tbody id="allappTable">
                  <tr class="text-xs bg-gray-50">
                    <td class="py-5 px-6 font-medium">Nothing found</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mb-6" style="float:right">
              <label class="text-sm font-medium mb-2" display="display:inline" for="">Page</label>
              <input id="allapppage" style="width:50px;display:inline"
                class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                name="field-name" rows="5" placeholder="" value="1"></input> / <span id="totpages">-</span>
              <button type="button"
                class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                onclick="loadAllApp()" id="updateAppStatusBtn">Show</button></div>
          </div>
        </div>
        <br>
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">Update Open Staff Positions</h3>
          </div>
          <div class="p-4 overflow-x-auto" style="display: block;">
            <div class="mb-6">
              <label class="block text-sm font-medium mb-2" for="">Staff Positions, one position per row</label>
              <textarea id="staffposedit"
                class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                name="field-name" rows="5" placeholder=""></textarea></div>

            <button type="button" id="updateStaffPositionBtn"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="updateStaffPosition()" id="updateAppStatusBtn">Update</button>
          </div>
        </div>
    </div>

    </section>

    <section id="AllUsers" class="py-8 tabs" style="display: none;">
      <div style="padding:50px;padding-top:0;">
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded" style="padding-bottom:80px">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">Pending Users</h3>
          </div>
          <div class="p-4 overflow-x-auto" style="display: block;">
            <table class="table-auto w-full">
              <thead id="usersTableHead">
                <tr class="text-xs text-gray-500 text-left">
                  <th class="pb-3 font-medium">Discord ID</th>
                  <th class="pb-3 font-medium">Name</th>
                </tr>
              </thead>
              <tbody id="usersTable">
                <tr class="text-xs bg-gray-50">
                  <td class="py-5 px-6 font-medium">Nothing found</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="mb-6" style="float:right">
            <label class="text-sm font-medium mb-2" display="display:inline" for="">Page</label>
            <input id="pupages" style="width:50px;display:inline"
              class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" name="field-name"
              rows="5" placeholder="" value="1"></input> / <span id="putotpages">-</span>
            <button type="button"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="loadUsers()">Show</button></div>
        </div>
        <br>
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">Add User to Member List</h3>
          </div>
          <div class="p-4 overflow-x-auto" style="display: block;">
            <div class="mb-6">
              <p>Only do this when the member is accepted as a driver / staff.</p>
              <br>
              <label class="block text-sm font-medium mb-2" for="">Discord ID</label>
              <input id="adddiscordid" style="width:200px"
                class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                name="field-name" rows="5" placeholder=""></input>
            </div>

            <button type="button"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="addUser()">Add</button>
          </div>
        </div>
        <br>
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">Ban / Unban User</h3>
          </div>
          <div class="p-4 overflow-x-auto" style="display: block;">
            <div class="mb-6">
              <label class="block text-sm font-medium mb-2" for="">Discord ID</label>
              <input id="bandiscordid" style="width:200px"
                class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                name="field-name" rows="5" placeholder=""></input>
            </div>

            <button type="button" style="background-color:red"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="banUser()">Ban</button>
            <button type="button" style="background-color:green"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="unbanUser()">Unban</button>
          </div>
        </div>
    </section>

    <section id="HomeTab" class="py-8 tabs mx-auto lg:ml-80">
      <div class="py-8 px-6">
        <div class="p-6 bg-gray-50 border-l-4 border-2 border-indigo-500 rounded-r-lg">
          <div class="flex">
            <div class="w-auto">
              <span class="w-auto inline-block mr-2">
                <svg width="20" height="20" viewbox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M10 0C4.5 0 0 4.5 0 10C0 15.5 4.5 20 10 20C15.5 20 20 15.5 20 10C20 4.5 15.5 0 10 0ZM11 14C11 14.6 10.6 15 10 15C9.4 15 9 14.6 9 14V10C9 9.4 9.4 9 10 9C10.6 9 11 9.4 11 10V14ZM10 7C9.4 7 9 6.6 9 6C9 5.4 9.4 5 10 5C10.6 5 11 5.4 11 6C11 6.6 10.6 7 10 7Z"
                    fill="#382CDD"></path>
                </svg>
              </span>
            </div>
            <div class="w-full">
              <div class="flex">
                <h3 class="text-indigo-800 font-medium">Welcome back!</h3>
              </div>
              <div class="pr-6">
                <p class="text-sm text-indigo-700">We are excited to release the beta version of At The Mile Logistics
                  Drivers Hub. And we are still adding new features.
                  <br>If you met an issue, please report it in our Discord Community.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="AnnTab" class="py-8 tabs" style="display:none">
      <div style="padding:50px;padding-top:0;">
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded" id="newann">
          <div class="container px-4">
            <div style="margin:20px">
              <p>You are <b><span id="annrole"></span></b> so you can deal with announcements.</p>
              <p>To create an announcement, input <b>title, content and type</b>, announcement id is NOT needed.</p>
              <p>To update an announcement, input <b>announcement id, title, content and type</b></p>
              <p>To delete an announcement, input ONLY <b>announcement id</b> and leave the other fields empty.</p>
              <p>Watch out that the button will change based on your inputs!</p>
              <br>
              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Announcement ID</label>
                <input id="annid"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder="Needed only for editing / deleting, not required for creating announcements.">
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Title</label>
                <input id="anntitle"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder=""></div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Content</label>
                <textarea id="anncontent"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></textarea></div>

              <div class="relative" style="width:200px">
                <label class="block text-sm font-medium mb-2 text-left" for="">Announcement Type:</label>
                <select id="annselect"
                  class="appearance-none block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name">
                  <option value="0">Information</option>
                  <option value="1">Event</option>
                  <option value="2">Warning</option>
                  <option value="3">Critical</option>
                  <option value="4">Resolved</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                  <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
                    <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path>
                  </svg>
                </div>
              </div>

              <div class="mb-6">
                <div class="mb-1">
                  <label class="block text-sm font-medium mb-2" for="" style="text-align: left;">Visibility:</label>
                  <label>
                    <input type="radio" name="announcement-visibility" value="yes" checked>
                    <span class="annpvt-0">Public (All user on Drivers Hub can view)</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input type="radio" name="announcement-visibility" value="yes" id="annpvt-1">
                    <span class="annpvt-1">Private (Only ATM Members can view)</span>
                  </label>
                </div>
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Discord Channel ID (Public 929856834645426217 |
                  Private 941537039340412929 | Or any other)</label>
                <input id="annchan"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder="Leave empty if you don't want this announcement to be forwarded to Discord">
              </div>

              <button type="button"
                class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                onclick="NewAnn()" id="newAnnBtn">Create Announcement</button>
            </div>
            <hr>
          </div>
        </div>
      </div>

      <div style="padding:50px;padding-top:0;">
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded" style="padding-bottom:80px">
          <div id="anns">

          </div>
          <div style="position: relative; left: calc( 100% - 200px );width:200px">
            <button id="annloadmore" type="button"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200">Load
              More</button>
          </div>
        </div>
      </div>
    </section>

    <section id="AllMembers" class="py-8 tabs" style="display:none">
      <div style="padding:50px;padding-top:0;">
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded" style="padding-bottom:80px">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">Members</h3>
          </div>
          <div class="p-4 overflow-x-auto" style="display: block;">
            <table class="table-auto w-full">
              <thead id="membersTableHead">
                <tr class="text-xs text-gray-500 text-left">
                  <th class="pb-3 font-medium">User ID</th>
                  <th class="pb-3 font-medium">Name</th>
                </tr>
              </thead>
              <tbody id="membersTable">
                <tr class="text-xs bg-gray-50">
                  <td class="py-5 px-6 font-medium">Nothing found</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="mb-6" style="float:right">
            <label class="text-sm font-medium mb-2" display="display:inline" for="">Page</label>
            <input id="mpages" style="width:50px;display:inline"
              class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" name="field-name"
              rows="5" placeholder="" value="1"></input> / <span id="mtotpages">-</span>
            <button type="button"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="loadMembers()">Show</button></div>
        </div>
        <br>
        <div id="AllMemberStaff" style="display:none">
          <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
            <div class="flex px-6 pb-4 border-b">
              <h3 class="text-xl font-bold">Assign roles</h3>
            </div>
            <div class="p-4 overflow-x-auto" style="display: block;">
              <div class="mb-6">
                <p>Fetch member roles first, this will overwrite all existing roles.</p>
                <p style="color:red">Warning! Removing Driver role will wipe member delivery log, and kick member from
                  navio company!</p>
                <br>
                <label class="block text-sm font-medium mb-2" for="" style="display:inline">User ID</label>
                <input id="memberroleid" style="width:200px;display:inline"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></input>
                <button type="button" id="fetchRolesBtn"
                  class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                  onclick="fetchRoles()">Fetch Existing Roles</button>
              </div>
              <span id="memberrolename" style="font-size:30px"></span>
              <div class="mb-6" id="rolelist">

              </div>

              <button type="button" id="updateMemberRolesBtn"
                class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                onclick="updateMemberRoles()">Update</button>
            </div>
          </div>
          <br>
          <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
            <div class="flex px-6 pb-4 border-b">
              <h3 class="text-xl font-bold">Update member points</h3>
            </div>
            <div class="p-4 overflow-x-auto" style="display: block;">
              <div class="mb-6">
                <p>Negative numbers work, they deduct the points.</p>
                <br>
                <label class="block text-sm font-medium mb-2" for="" style="display:inline">User ID</label>
                <input id="memberpntid" style="width:200px;display:inline"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></input>
              </div>
              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="" style="display:inline">Miles</label>
                <input id="memberpntmile" style="width:200px;display:inline"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></input>
              </div>
              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="" style="display:inline">Event Points</label>
                <input id="memberpntevent" style="width:200px;display:inline"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></input>
              </div>

              <button type="button" id="updateMemberPointsBtn"
                class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                onclick="updateMemberPoints()">Update</button>
            </div>
          </div>
          <br>
          <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
            <div class="flex px-6 pb-4 border-b">
              <h3 class="text-xl font-bold">Dismiss</h3>
            </div>
            <div class="p-4 overflow-x-auto" style="display: block;">
              <div class="mb-6">
                <p style="color:red">Dangerous! This will wipe member delivery log and everything, and kick member from
                  navio company!</p>
                <br>
                <label class="block text-sm font-medium mb-2" for="">User ID</label>
                <input id="dismissUserID" style="width:200px"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder=""></input>
              </div>

              <p><span id="memberdismissname" style="font-size:20px"></span></p>

              <button type="button" style="background-color:red" id="dismissbtn"
                class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
                onclick="dismissUser()">Dismiss</button>
            </div>
          </div>
        </div>
    </section>

    <section id="MyApp" class="py-8 tabs" style="display:none">
      <div style="padding:50px; padding-top:0;">
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">Add Message to Application</h3>
          </div>
          <div class="p-4 overflow-x-auto" style="display: block;">
            <div class="mb-6">
              <label class="block text-sm font-medium mb-2" for="">Application ID</label>
              <input id="appmsgid" style="width:200px"
                class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                name="field-name" rows="5" placeholder="Integar ID"></input>
            </div>
            <div class="mb-6">
              <label class="block text-sm font-medium mb-2" for="">Message Content</label>
              <textarea id="appmsgcontent"
                class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                name="field-name" rows="5" placeholder=""></textarea></div>

            <button type="button" id="addAppMessageBtn"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="addAppMessage()">Add</button>
          </div>
        </div>
        <br>
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded" style="padding-bottom:80px">
          <div class="flex px-6 pb-4 border-b">
            <h3 class="text-xl font-bold">My Applications</h3>
          </div>

          <div class="p-4 overflow-x-auto" style="display: block;">
            <table class="table-auto w-full">
              <thead id="myappTableHead" style="display:none">
                <tr class="text-xs text-gray-500 text-left">
                  <th class="pb-3 font-medium">ID</th>
                  <th class="pb-3 font-medium">Type</th>
                  <th class="pb-3 font-medium">Submitted At</th>
                  <th class="pb-3 font-medium">Status</th>
                  <th class="pb-3 font-medium">Closed At</th>
                </tr>
              </thead>
              <tbody id="myappTable">
                <tr class="text-xs bg-gray-50">
                  <td class="py-5 px-6 font-medium">Nothing found</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="mb-6" style="float:right">
            <label class="text-sm font-medium mb-2" display="display:inline" for="">Page</label>
            <input id="myapppage" style="width:50px;display:inline"
              class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" name="field-name"
              rows="5" placeholder="" value="1"></input> / <span id="myapptotpages">-</span>
            <button type="button"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="loadMyApp()">Show</button></div>
        </div>
      </div>
    </section>

    <section id="SubmitApp" class="py-8 tabs" style="display: none;">
      <div style="padding:50px;padding-top:0;">
        <div class="py-8 px-6 mx-auto lg:ml-80 pt-4 bg-white shadow rounded">
          <form>
            <h1 class="mb-2 text-2xl font-bold font-heading text-left">1. Choose Application</h1>

            <div class="mb-6">
              <div class="container px-4 mx-auto">
                <label class="block text-sm font-medium mb-2 text-left" for="">Are you applying for driver or staff? Or
                  just requesting a LOA?<br>Please select an application:</label>
                <div class="relative" style="width:200px">
                  <select id="appselect"
                    class="appearance-none block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                    name="field-name">
                    <option value="driver" id="driverappsel">Driver</option>
                    <option value="staff">Staff</option>
                    <option value="loa">LOA</option>
                  </select>
                  <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
                      <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path>
                    </svg>
                  </div>
                </div>
              </div>
            </div>

            <h1 class="mb-2 text-2xl font-bold font-heading text-left">2. Fill Application</h1>

            <div class="container px-4 mx-auto apptabs" id="DriverApp">
              <div class="mb-6" style="width:400px">
                <label class="block text-sm font-medium mb-2" for="">What is your birthdate?</label>
                <input id="da-q1"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder="MM/DD/YYYY"></div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">How did you find us?</label>
                <textarea id="da-q2"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder="Enter a short answer"></textarea></div>


              <div class="mb-6">
                <div class="mb-1">
                  <label class="block text-sm font-medium mb-2" for="" style="text-align: left;">Are you currenty in
                    another VTC?</label>
                  <label>
                    <input type="radio" name="in-another-vtc" value="yes" id="in-another-vtc">
                    <span class="ml-2">Yes</span>
                  </label>
                </div>
                <div>
                  <label>
                    <input type="radio" name="in-another-vtc" value="yes" checked>
                    <span class="ml-2">No</span>
                  </label>
                </div>
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">What are your interests?</label>
                <textarea id="da-q3"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder="Tell us a little bit about yourself."></textarea></div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Why do you want to be a part our VTC?</label>
                <textarea id="da-q4"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5"
                  placeholder="Why would you like to join us? This doesn't need to be complicated."></textarea></div>

              <div class="mb-6">
                <label>
                  <input type="checkbox" name="field-name" value="example value" id="da-agree">
                  <span class="ml-2">By joining At The Mile VTC you agree to follow both discord and VTC rules at all
                    times? Do you agree to our terms?</span>
                </label>
              </div>
            </div>

            <div class="container px-4 mx-auto apptabs" id="StaffApp" style="display:none">
              <div class="mb-6" style="width:400px">
                <label class="block text-sm font-medium mb-2" for="">What is your birthdate?</label>
                <input id="sa-q1"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder="MM/DD/YYYY"></div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">What country do you live in? Also include your Time
                  Zone </label>
                <textarea id="sa-q2"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder="US, Canada, UK, etc"></textarea></div>


              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="" style="text-align: left;">Which position are you
                  applying for?</label>
                <div class="relative" style="width:500px">
                  <select id="sa-select"
                    class="appearance-none block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                    name="field-name">
                  </select>
                  <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
                      <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path>
                    </svg>
                  </div>
                </div>
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Please provide a summary about yourself. </label>
                <textarea id="sa-q3"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5"
                  placeholder="You may include hobbies, work positions, or any unique facts about yourself!"></textarea>
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Why are you interested in joining the position you
                  are applying for? What do you want to achieve?</label>
                <textarea id="sa-q4"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5"
                  placeholder="Explain why does that position interest you and what do you want to achieve."></textarea>
              </div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Do you have a lot of time to dedicate to this
                  position?</label>
                <textarea id="sa-q5"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder="Explain your time availability."></textarea>
              </div>

              <div class="mb-6">
                <label>
                  <input id="sa-agree" type="checkbox" name="field-name" value="example value">
                  <span class="ml-2">By joining At The Mile Logistics, you agree to our rules and terms of service. As a
                    Internal or External Staff, you also agree to work without financial compensation. Do you agree to
                    these terms?</span>
                </label>
              </div>
            </div>

            <div class="container px-4 mx-auto apptabs" id="LOAApp" style="display:none">
              <div class="mb-6" style="width:400px">
                <label class="block text-sm font-medium mb-2" for="">Start Date</label>
                <input id="la-q1"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder="MM/DD/YYYY"></div>

              <div class="mb-6" style="width:400px">
                <label class="block text-sm font-medium mb-2" for="">End Date</label>
                <input id="la-q2"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded" type="text"
                  name="" placeholder="MM/DD/YYYY"></div>

              <div class="mb-6">
                <label class="block text-sm font-medium mb-2" for="">Reason for LOA </label>
                <textarea id="la-q3"
                  class="block w-full px-4 py-3 mb-2 text-sm placeholder-gray-500 bg-white border rounded"
                  name="field-name" rows="5" placeholder="Your answer"></textarea></div>
            </div>

            <button type="button"
              class="w-full md:w-auto px-6 py-3 font-medium text-white bg-indigo-500 hover:bg-indigo-600 rounded transition duration-200"
              onclick="SubmitApp()" id="submitAppBttn">Submit</button>
          </form>
        </div>
      </div>
    </section>
  </div>
  </div>
  </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="js/charts-demo.js"></script>
  <div style="position: fixed;bottom: 10px;color: lightgrey;margin:10px;z-index:1000;font-size:10px">
    <p>Copyright &copy 2022 At The Mile Logistics</p>
    <p>Credits: CharlesWithC#7777 sticks#6436</p>
  </div>
</body>

</html>